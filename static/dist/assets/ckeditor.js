import{r as E}from"./react-vendor.js";/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function Q(e,t,r){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof t=="function"&&(r=t,t={}),t=t||{},r=r||function(){},o.type=t.type||"text/javascript",o.charset=t.charset||"utf8",o.async="async"in t?!!t.async:!0,o.src=e,t.attrs&&ee(o,t.attrs),t.text&&(o.text=String(t.text));var a="onload"in o?q:te;a(o,r),o.onload||q(o,r),n.appendChild(o)}function ee(e,t){for(var r in t)e.setAttribute(r,t[r])}function q(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function te(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}var L;function K(e,t){return"CKEDITOR"in window?Promise.resolve(CKEDITOR):typeof e!="string"||e.length<1?Promise.reject(new TypeError("CKEditor URL must be a non-empty string.")):(L||(L=K.scriptLoader(e).then(function(r){return t&&t(r),r})),L)}K.scriptLoader=function(e){return new Promise(function(t,r){Q(e,function(n){if(L=void 0,n)return r(n);if(!window.CKEDITOR)return r(new Error("Script loaded from editorUrl doesn't provide CKEDITOR namespace."));t(CKEDITOR)})})};var z={exports:{}},re="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ne=re,oe=ne;function B(){}function V(){}V.resetWarningCache=B;var ae=function(){function e(n,o,a,v,c,u){if(u!==oe){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:V,resetWarningCache:B};return r.PropTypes=r,r};z.exports=ae();var y=z.exports;/**
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */var d=function(){return d=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},d.apply(this,arguments)};function ie(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function j(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var G=["activeEnterModeChange","activeFilterChange","afterCommandExec","afterInsertHtml","afterPaste","afterPasteFromWord","afterSetData","afterUndoImage","ariaEditorHelpLabel","ariaWidget","autogrow","beforeCommandExec","beforeDestroy","beforeGetData","beforeModeUnload","beforeSetMode","beforeUndoImage","blur","change","configLoaded","contentDirChanged","contentDom","contentDomInvalidated","contentDomUnload","contentPreview","customConfigLoaded","dataFiltered","dataReady","destroy","dialogHide","dialogShow","dirChanged","doubleclick","dragend","dragstart","drop","elementsPathUpdate","exportPdf","fileUploadRequest","fileUploadResponse","floatingSpaceLayout","focus","getData","getSnapshot","insertElement","insertHtml","insertText","instanceReady","key","langLoaded","loadSnapshot","loaded","lockSnapshot","maximize","menuShow","mode","notificationHide","notificationShow","notificationUpdate","paste","pasteFromWord","pluginsLoaded","readOnly","removeFormatCleanup","required","resize","save","saveSnapshot","selectionChange","setData","stylesRemove","stylesSet","template","toDataFormat","toHtml","uiSpace","unlockSnapshot","updateSnapshot","widgetDefinition"],H=["beforeLoad","namespaceLoaded"],F=j(j([],G,!0),H,!0),A="__CKE__";function de(e){return"".concat(A).concat(e)}function ce(e){return e.substr(A.length)}function X(e){var t=e.substr(0,1).toUpperCase()+e.substr(1);return"on".concat(t)}function ue(e){return e.substr(2,1).toLowerCase()+e.substr(3)}var M=j(j([],G,!0),H,!0).reduce(function(e,t){var r;return d(d({},e),(r={},r[t]=de(t),r))},{});function le(e){return e.split(/(?=[A-Z])/).join("-").toLowerCase()}function se(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function fe(e,t,r){var n={display:"none",visibility:"hidden"};return e==="classic"?n:t==="ready"?r??void 0:n}function N(e){var t=e.debug,r=e.editor,n=e.evtName,o=e.handler,a=e.listenerData,v=e.priority,c=t&&se(),u=o;return t&&(u=function(i){console.log({operation:"invoke",editor:r.name,evtName:n,handlerId:c,data:i.data,listenerData:i.listenerData}),o(i)}),t&&console.log({operation:"register",editor:r.name,evtName:n,handlerId:c}),r.on(n,u,null,a,v),function(){t&&console.log({operation:"unregister",editor:r.name,evtName:n,handlerId:c}),r.removeListener(n,u)}}var pe=E.useEffect,ye=E.useReducer,b=E.useRef,ve="https://cdn.ckeditor.com/4.20.0/standard-all/ckeditor.js",me={};function he(e){var t=e.config,r=e.debug,n=e.dispatchEvent,o=e.subscribeTo,a=o===void 0?F:o,v=e.editorUrl,c=e.element,u=e.initContent,i=e.type,w=i===void 0?"classic":i,x=b(v||ve),T=b(a??F),S=b(r),m=b(n),P=b(u),C=b(t||me),f=b(w),p=ye(ge,{editor:void 0,hookStatus:"init"}),s=p[0],l=s.editor,U=s.hookStatus,h=p[1];return pe(function(){if(c&&!l){h({type:"loading"});var I=function(O){var g;T.current.indexOf("namespaceLoaded")!==-1&&((g=m.current)===null||g===void 0||g.call(m,{type:M.namespaceLoaded,payload:O}))},Y=function(O){var g,W=f.current==="inline",Z=C.current.readOnly;T.current.indexOf("beforeLoad")!==-1&&((g=m.current)===null||g===void 0||g.call(m,{type:M.beforeLoad,payload:O}));var D=O[W?"inline":"replace"](c,C.current),J=T.current.filter(function(R){return H.indexOf(R)===-1});J.forEach(function(R){N({debug:S.current,editor:D,evtName:R,handler:function(k){var _;(_=m.current)===null||_===void 0||_.call(m,{type:"".concat(A).concat(R),payload:k})}})}),N({debug:S.current,editor:D,evtName:"loaded",handler:function(){h({type:"loaded"})},priority:-1}),N({debug:S.current,editor:D,evtName:"instanceReady",handler:function(R){var k=R.editor;h({type:"ready"}),W&&!Z&&k.setReadOnly(!1),P.current&&k.setData(P.current,{noSnapshot:!0,callback:function(){k.resetUndo()}})},priority:-1}),N({debug:S.current,editor:D,evtName:"destroy",handler:function(){h({type:"destroyed"})},priority:-1}),h({type:"unloaded",payload:D})};K(x.current,I).then(Y).catch(function(O){console.error(O),h({type:"error"})})}return function(){l&&l.destroy()}},[l,c]),{editor:l,status:l==null?void 0:l.status,error:U==="error",loading:U==="loading"}}function ge(e,t){switch(t.type){case"init":return d(d({},e),{hookStatus:"init"});case"loading":return d(d({},e),{hookStatus:"loading"});case"unloaded":return{editor:t.payload,hookStatus:"unloaded"};case"loaded":return d(d({},e),{hookStatus:"loaded"});case"ready":return d(d({},e),{hookStatus:"ready"});case"destroyed":return{editor:void 0,hookStatus:"destroyed"};case"error":return{editor:void 0,hookStatus:"error"};default:return e}}var $=E.useEffect,be=E.useRef,Ee=E.useState;function Se(e){var t=e.config,r=t===void 0?{}:t,n=e.debug,o=e.editorUrl,a=e.initData,v=e.name,c=e.readOnly,u=e.style,i=e.type,w=ie(e,["config","debug","editorUrl","initData","name","readOnly","style","type"]),x=Ee(null),T=x[0],S=x[1],m=be(w),P=function(s){var l=s.type,U=s.payload,h=X(ce(l)),I=m.current[h];I&&I(U)};r&&typeof c=="boolean"&&(r.readOnly=c);var C=he({config:r,dispatchEvent:P,debug:n,editorUrl:o,element:T,initContent:typeof a=="string"?a:void 0,subscribeTo:Object.keys(w).filter(function(s){return s.indexOf("on")===0}).map(ue),type:i}),f=C.editor,p=C.status;return $(function(){var s=i!=="inline"&&f&&(p==="loaded"||p==="ready");return u&&s&&f.container.setStyles(u),function(){u&&s&&Object.keys(u).map(le).forEach(function(l){f.container.removeStyle(l)})}},[f,p,u,i]),$(function(){f&&p==="ready"&&typeof c=="boolean"&&f.setReadOnly(c)},[f,p,c]),E.createElement("div",{id:v??void 0,ref:S,style:fe(i??"classic",p,u)},typeof a=="string"?null:a)}var Oe=d({config:y.object,debug:y.bool,editorUrl:y.string,initData:y.node,name:y.string,readOnly:y.bool,style:y.object,type:y.oneOf(["classic","inline"])},F.reduce(function(e,t){var r;return d(d({},e),(r={},r[X(t)]=y.func,r))},{}));Se.propTypes=Oe;export{Se as C};
